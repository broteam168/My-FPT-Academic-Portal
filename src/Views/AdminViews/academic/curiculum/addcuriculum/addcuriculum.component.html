<app-drawer [items]="menu">
  <div class="h-screen bg-gray-100">
    <app-header></app-header>
    <div class="bg-gray-100">
      <label for="my-drawer-2" class="btn btn-primary drawer-button hidden"
        >Open drawer</label
      >
      <div #maincontent class="pt-10 px-5 pb-10">
        <div #header class="flex flex-row justify-between items-center">
          <div
            #back_button
            class="flex items-center hover:cursor-pointer"
            (click)="goBack()"
          >
            <mat-icon
              aria-hidden="false"
              aria-label="Example home icon"
              fontIcon="keyboard_backspace"
              class="text-black text-lg font-medium mb-1 mr-3 hover:bg-white hover:rounded-full hover:pl-1"
              appearance="outline "
            ></mat-icon>

            <div class="font-medium text-lg">Back to Curiculum management</div>
          </div>
          <div #right_button class="mt-3"></div>
        </div>
        <div
          #formcontrol
          class="mt-5 bg-white pt-10 flex justify-center rounded-xl flex-col xl:max-w-screen-lg xl:mx-auto"
        >
          <div class="text-center mb-10">
            <h1 class="font-bold text-3xl text-gray-900">
              Add subject to Curiculum
            </h1>
          </div>
          <form
            [formGroup]="curiculumForm"
            class="flex flex-col items-center w-full"
          >
            <div class="w-2/3">
              <div class="w-full flex -mx-3 pl-3">
                <div class="w-full mb-5">
                  <label for="" class="text-xs font-semibold px-1"
                    >Subject name</label
                  >
                  <div>
                    <select 
                        formControlName="subjectId"
                        class="w-full pl-9 border-2 rounded-lg h-10 border-gray-200 focus:border-indigo-500 outline-none"
                    >
                      <option 
                        *ngFor="let item of subjects" 
                        [value]="item.id"
                      >
                        {{ item.subjectCode }}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="w-full flex -mx-3 pl-3">
                <div class="w-full mb-5">
                  <label for="" class="text-xs font-semibold px-1"
                    >SubMajor name</label
                  >
                  <div>
                    <select 
                        class="w-full pl-9 h-10 border-2 rounded-lg border-gray-200 outline-none focus:border-indigo-500"
                        formControlName="subMajorId"
                    >
                      <option 
                        *ngFor="let item of subMajors" 
                        [value]="item.id"
                      >
                        {{ item.name }}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="w-full flex -mx-3 pl-3">
                <div class="w-full mb-5">
                  <label for="" class="text-xs font-semibold px-1">
                    Semester
                  </label>
                  <div class="flex">
                    <div
                      class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"
                    >
                      <i
                        class="mdi mdi-email-outline text-gray-400 text-lg"
                      ></i>
                    </div>
                    <input
                      required
                      type="number"
                      formControlName="semester"
                      class="w-full -ml-10 border-2 pl-10 pr-3 py-2 rounded-lg border-gray-200 outline-none focus:border-indigo-500"
                      placeholder="1"
                    />
                  </div>
                </div>
              </div>
              <div class="flex -mx-3">
                <div class="w-full px-3 mb-5">
                  <button
                    (click)="createCuriculum()"
                    class="block w-full max-w-xs mx-auto bg-indigo-500 hover:bg-indigo-700 focus:bg-indigo-700 text-white rounded-lg px-3 py-3 font-semibold"
                  >
                    ADD NOW
                  </button>
                </div>
              </div>
            </div>
          </form>
          <app-loadingmodal *ngIf="loading"></app-loadingmodal>
          <app-messagebox
            (closeModal)="close()"
            [open]="openMessage"
            [title]="messageTitle"
            [description]="messageDescription"
            [type]="fail"
          ></app-messagebox>
        </div>
      </div>
    </div>
  </div>
</app-drawer>
